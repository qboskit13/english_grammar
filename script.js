const exerciseData = {
    "present-simple": [
        { sentence: "I usually _____ (go) to the gym on Tuesdays.", answer: "go" },
        { sentence: "She always _____ (eat) breakfast.", answer: "eats" },
        { sentence: "Water _____ (boil) at 100 degrees Celsius.", answer: "boils" },
        { sentence: "The sun _____ (rise) in the east.", answer: "rises" },
        { sentence: "Birds _____ (fly) in the sky.", answer: "fly" },
        { sentence: "My friend _____ (like) to play basketball.", answer: "likes" },
        { sentence: "I _____ (enjoy) learning new languages.", answer: "enjoy" },
        { sentence: "They often _____ (visit) their grandparents.", answer: "visit" },
        { sentence: "He _____ (work) in a restaurant.", answer: "works" },
        { sentence: "_____ you usually go to the gym on Tuesdays?", answer: "Do" }, 
        { sentence: "_____ she always eat breakfast?", answer: "Does" },
        { sentence: "_____ water boil at 100 degrees Celsius?", answer: "Does" },
        { sentence: "_____ the sun rise in the east?", answer: "Does" },
        { sentence: "_____ birds fly in the sky?", answer: "Do" },
        { sentence: "_____ your friend like to play basketball?", answer: "Does" },
        { sentence: "_____ you enjoy learning new languages?", answer: "Do" },
        { sentence: "_____ they often visit their grandparents?", answer: "Do" },
        { sentence: "_____ he work in a restaurant?", answer: "Does" },
        { sentence: "_____ you like chocolate?", answer: "Do" },
        { sentence: "Where _____ she work?", answer: "does" },
        { sentence: "Why _____ they study English?", answer: "do" },
        { sentence: "What _____ you do in your free time?", answer: "do" },
        { sentence: "When _____ he wake up?", answer: "does" },
        { sentence: "How _____ birds fly?", answer: "do" },
        { sentence: "Where _____ your parents live?", answer: "do" },
        { sentence: "Who _____ like to cook?", answer: "does" },
        { sentence: "What _____ you usually eat for lunch?", answer: "do" },
        { sentence: "How often _____ they clean their house?", answer: "do" },
        { sentence: "Why _____ the dog bark at night?", answer: "does" },
        { sentence: "I always _____ (wear) comfortable shoes.", answer: "wear" },
        { sentence: "She sometimes _____ (take) the bus to work.", answer: "takes" },
        { sentence: "My dog _____ (sleep) most of the day.", answer: "sleeps" },
        { sentence: "He _____ (speak) fluent French.", answer: "speaks" },
        { sentence: "They rarely _____ (eat) out for dinner.", answer: "eat" },
        { sentence: "The children _____ (build) a sandcastle on the beach.", answer: "build" },
        { sentence: "We _____ (understand) the concept now.", answer: "understand" },
        { sentence: "I _____ (write) a letter to my friend.", answer: "write" },
        { sentence: "The store _____ (sell) a variety of products.", answer: "sells" },
        { sentence: "The sun _____ (shine) brightly today.", answer: "shines" }    
    ],
    "present-continuous": [
        { sentence: "I _____ (read) a really interesting book right now.", answer: "am reading" },
        { sentence: "They _____ (listen) to music at the moment.", answer: "are listening" },
        { sentence: "He _____ (play) football with his friends.", answer: "is playing" },
        { sentence: "We _____ (have) dinner at the restaurant.", answer: "are having" },
        { sentence: "She _____ (study) for her exam.", answer: "is studying" },
        { sentence: "The baby _____ (sleep).", answer: "is sleeping" },
        { sentence: "It _____ (rain) outside.", answer: "is raining" },
        { sentence: "You _____ (watch) TV.", answer: "are watching" },
        { sentence: "Is he _____ (work) today?", answer: "working" },
        { sentence: "What _____ (do) you think?", answer: "are you doing" }, 
        { sentence: "_____ I reading a really interesting book right now?", answer: "Am" },
        { sentence: "_____ they listening to music at the moment?", answer: "Are" },
        { sentence: "_____ he playing football with his friends?", answer: "Is" },
        { sentence: "_____ we having dinner at the restaurant?", answer: "Are" },
        { sentence: "_____ she studying for her exam?", answer: "Is" },
        { sentence: "_____ the baby sleeping?", answer: "Is" },
        { sentence: "_____ it raining outside?", answer: "Is" },
        { sentence: "_____ you watching TV?", answer: "Are" },
        { sentence: "_____ he working today?", answer: "Is" },
        { sentence: "_____ you doing anything special tonight?", answer: "Are" }         

      ],  
    "present-perfect": [
        { sentence: "I _____ (see) that movie three times.", answer: "have seen" },
        { sentence: "They _____ (never / be) to London.", answer: "have never been" },
        { sentence: "She _____ (live) in this city all her life.", answer: "has lived" },
        { sentence: "We _____ (finish) our homework.", answer: "have finished" },
        { sentence: "He _____ (lose) his keys.", answer: "has lost" },
        { sentence: "I _____ (break) my leg.", answer: "have broken" },
        { sentence: "The train _____ (already / arrive).", answer: "has already arrived" },
        { sentence: "They _____ (just / leave).", answer: "have just left" },
        { sentence: "She _____ (graduate) from university.", answer: "has graduated" },
        { sentence: "_____ I seen that movie three times?", answer: "Have" },
        { sentence: "_____ they never been to London?", answer: "Have" },
        { sentence: "_____ she lived in this city all her life?", answer: "Has" },
        { sentence: "_____ we finished our homework?", answer: "Have" },
        { sentence: "_____ he lost his keys?", answer: "Has" },
        { sentence: "_____ I broken my leg?", answer: "Have" },
        { sentence: "_____ the train already arrived?", answer: "Has" },
        { sentence: "_____ they just left?", answer: "Have" },
        { sentence: "_____ she graduated from university?", answer: "Has" },
        { sentence: "_____ you ever traveled abroad?", answer: "Have" }  
    ],
    "past-simple": [
        { sentence: "We _____ (watch) a great film yesterday.", answer: "watched" },
        { sentence: "I _____ (not / do) my homework last night.", answer: "didn't do" },
        { sentence: "He _____ (buy) a new car last month.", answer: "bought" },
        { sentence: "They _____ (go) to the beach last weekend.", answer: "went" },
        { sentence: "She _____ (eat) all the cookies.", answer: "ate" },
        { sentence: "The game _____ (start) at 7pm.", answer: "started" },
        { sentence: "I _____ (meet) my best friend in elementary school.", answer: "met" },
        { sentence: "He _____ (travel) around the world.", answer: "traveled" },
        { sentence: "They _____ (get) married last year.", answer: "got" },
        // New exercises (interrogative form)
        { sentence: "_____ you watch a great film yesterday?", answer: "Did" },
        { sentence: "_____ I do my homework last night?", answer: "Did" },
        { sentence: "_____ he buy a new car last month?", answer: "Did" },
        { sentence: "_____ they go to the beach last weekend?", answer: "Did" },
        { sentence: "_____ she eat all the cookies?", answer: "Did" },
        { sentence: "_____ the game start at 7pm?", answer: "Did" },
        { sentence: "_____ I meet my best friend in elementary school?", answer: "Did" },
        { sentence: "_____ he travel around the world?", answer: "Did" },
        { sentence: "_____ they get married last year?", answer: "Did" }, 
        { sentence: "_____ you enjoy the party last night?", answer: "Did" },
        { sentence: "_____ I at the party last night?", answer: "Was" },
        { sentence: "_____ you happy with the results?", answer: "Were" },
        { sentence: "_____ it cold yesterday? ", answer: "Was" },
        { sentence: "_____ they at home last weekend?", answer: "Were" },
        { sentence: "_____ he a student at this school?", answer: "Was" },
        { sentence: "_____ the weather nice on your vacation?", answer: "Was" },
        { sentence: "_____ the food good at the restaurant?", answer: "Was" },
        { sentence: "_____ the children tired after playing all day?", answer: "Were" },
        { sentence: "_____ your parents proud of you?", answer: "Were" },
        { sentence: "_____ I late for the meeting?", answer: "Was" }     
    ],
    "present-perfect-continuous": [
        { sentence: "She _____ (study) English for several years now.", answer: "has been studying" },
        { sentence: "We _____ (wait) here for hours.", answer: "have been waiting" },
        { sentence: "I _____ (work) on this project all day.", answer: "have been working" },
        { sentence: "They _____ (live) in this city since they were born.", answer: "have been living" },
        { sentence: "It _____ (rain) all morning.", answer: "has been raining" }, 
        { sentence: "He _____ (look) for a new job recently.", answer: "has been looking" },
        { sentence: "How long _____ (play) the piano?", answer: "have you been playing" },
        { sentence: "The children _____ (make) a mess.", answer: "have been making" },
        { sentence: "Sorry, I _____ (not / listen).", answer: "haven't been listening" }, 
        { sentence: "The company _____ (grow) steadily for years.", answer: "has been growing" },
        { sentence: "_____ she been studying English for several years now?", answer: "Has" },
        { sentence: "_____ we been waiting here for hours?", answer: "Have" },
        { sentence: "_____ I been working on this project all day?", answer: "Have" },
        { sentence: "_____ they been living in this city since they were born?", answer: "Have" },
        { sentence: "_____ it been raining all morning?", answer: "Has" },
        { sentence: "_____ he been looking for a new job recently?", answer: "Has" },
        { sentence: "_____ you been playing the piano for long?", answer: "Have" },  
        { sentence: "_____ the children been making a mess?", answer: "Have" },
        { sentence: "_____ I been listening to your explanation?", answer: "Haven't" }, //Note the negative form
        { sentence: "_____ the company been growing steadily for years?", answer: "Has" }      
    ],
    
    "past-continuous": [
        { sentence: "The phone _____ (ring) when I was taking a shower.", answer: "was ringing" },
        { sentence: "I _____ (sleep) when you called.", answer: "was sleeping" },
        { sentence: "They _____ (not / study) at the time of the test.", answer: "were not studying" },
        { sentence: "What _____ (do) at 8pm last night?", answer: "were you doing" },
        { sentence: "We _____ (drive) home when we saw the accident.", answer: "were driving" },
        { sentence: "The sun _____ (shine) as we walked along the beach.", answer: "was shining" },
        { sentence: "It _____ (snow) heavily when I woke up this morning.", answer: "was snowing" }, 
        { sentence: "While I _____ (cook), my sister was setting the table.", answer: "was cooking" }, 
        { sentence: "The students _____ (talk) when the teacher walked in.", answer: "were talking" }, 
        { sentence: "I _____ (not / pay) attention while he was explaining.", answer: "was not paying" },
        { sentence: "_____ the phone ringing when I was taking a shower?", answer: "Was" },
        { sentence: "_____ I sleeping when you called?", answer: "Was" },
        { sentence: "_____ they not studying at the time of the test?", answer: "Were" },
        { sentence: "_____ you doing at 8pm last night?", answer: "What were" }, // 'What' for more variety
        { sentence: "_____ we driving home when we saw the accident?", answer: "Were" },
        { sentence: "_____ the sun shining as we walked along the beach?", answer: "Was" },
        { sentence: "_____ it snowing heavily when I woke up this morning?", answer: "Was" },
        { sentence: "_____ I cooking  while my sister was setting the table?", answer: "Was" }, 
        { sentence: "_____ the students talking when the teacher walked in?", answer: "Were" }, 
        { sentence: "_____ I not paying attention while he was explaining?", answer: "Was" } 
    ],

    "past-perfect": [
        { sentence: "After I _____ (finish) my homework, I went to bed.", answer: "had finished" },
        { sentence: "The movie _____ (already / start) by the time we got to the cinema.", answer: "had already started" },
        { sentence: "She _____ (leave) before I had a chance to say goodbye.", answer: "had left" },
        { sentence: "They _____ (never / see) snow before they moved to Canada.", answer: "had never seen" }, 
        { sentence: "I felt great because I  _____ (sleep) well the night before.", answer: "had slept" },
        { sentence: "Had you _____ (eat) dinner before you came?", answer: "eaten" },
        { sentence: "When I found my wallet, I _____ (look) for it everywhere.", answer: "had looked" }, 
        { sentence: "The fire _____ (go out) by the time the firefighters arrived.", answer: "had gone out" },
        { sentence: "We _____ (not / finish) painting the house when it started to rain.", answer: "hadn't finished" },
        { sentence: "I couldn't believe she _____ (fail) the exam.", answer: "had failed" },
        { sentence: "_____ I finished my homework before I went to bed?", answer: "Had" },
        { sentence: "_____ the movie already started by the time we got to the cinema?", answer: "Had" },
        { sentence: "_____ she left before I had a chance to say goodbye?", answer: "Had" },
        { sentence: "_____ they never seen snow before they moved to Canada?", answer: "Had" }, 
        { sentence: "_____ I slept well the night before because I was so tired?", answer: "Had" },
        { sentence: "_____ you eaten dinner before you came?", answer: "Had" },
        { sentence: "_____ I looked for my wallet everywhere before finding it?", answer: "Had" }, 
        { sentence: "_____ the fire gone out by the time the firefighters arrived?", answer: "Had" },
        { sentence: "_____ we not finished painting the house when it started to rain?", answer: "Hadn't" },
        { sentence: "_____ she failed the exam because she didn't study?", answer: "Had" }   
    ],

    "past-perfect-continuous": [
        { sentence: "They _____ (live) in London for ten years before moving.", answer: "had been living" },
        { sentence: "I _____ (work) at that company for five years when I got promoted.", answer: "had been working" },
        { sentence: "How long _____ (wait) when the bus finally came?", answer: "had you been waiting" },
        { sentence: "She _____ (cry) before I asked her what was wrong.", answer: "had been crying" },
        { sentence: "We _____ (walk) for hours and were exhausted.", answer: "had been walking" }, 
        { sentence: "The ground was wet because it _____ (rain).", answer: "had been raining" },
        { sentence: "He was tired because he _____ (study) all night.", answer: "had been studying" },  
        { sentence: "I _____ (not / sleep) well for weeks.", answer: "hadn't been sleeping" },
        { sentence: "By then, they _____ (know) each other for years. ", answer: "had been knowing" },
        { sentence: "My hands were dirty because I _____ (play) in the garden.", answer: "had been playing" },
        { sentence: "_____ they been living in London for ten years before moving?", answer: "Had" },
        { sentence: "_____ I been working at that company for five years when I got promoted?", answer: "Had" },
        { sentence: "_____ you been waiting for the bus when it finally came?", answer: "How long had" },
        { sentence: "_____ she been crying before I asked her what was wrong?", answer: "Had" },
        { sentence: "_____ we been walking for hours before we took a break?", answer: "Had" }, 
        { sentence: "_____ it been raining all day before it finally stopped?", answer: "Had" },
        { sentence: "_____ he been studying all night before the exam?", answer: "Had" }, 
        { sentence: "_____ I not been sleeping well for weeks before I went to the doctor?", answer: "Hadn't" },
        { sentence: "_____ they been knowing each other for years when they got married?", answer: "Had" },
        { sentence: "_____ my hands been dirty all afternoon because I was playing in the garden?", answer: "Had" } 
    ],

    "future-simple": [
        { sentence: "I _____ (visit) my grandparents next weekend.", answer: "will visit" },
        { sentence: "She _____ (call) you later.", answer: "will call" },
        { sentence: "Don't worry, I _____ (help) you.", answer: "will help" },
        { sentence: "We _____ (not / go) to the party tonight.", answer: "won't go" }, 
        { sentence: "I think it _____ (rain) tomorrow.", answer: "will rain" },
        { sentence: "What time _____ (leave) for the airport?", answer: "will you leave" },
        { sentence: "I promise I _____ (not / tell) anyone.", answer: "won't tell" },  
        { sentence: "I think the exam _____ (be) difficult.", answer: "will be" }, 
        { sentence: "Will you please _____ (open) the window?", answer: "open" },
        { sentence: "The plane _____ (take off) in an hour.", answer: "will take off" }, 
        { sentence: "_____ I visit my grandparents next weekend?", answer: "Will" },
        { sentence: "_____ she call you later?", answer: "Will" },
        { sentence: "_____ I help you with that?", answer: "Will" }, 
        { sentence: "_____ we not go to the party tonight?", answer: "Won't" },
        { sentence: "_____ it rain tomorrow?", answer: "Will" },
        { sentence: "_____ you leave for the airport at 6am?", answer: "What time will" },
        { sentence: "_____ I not tell anyone your secret?", answer: "Won't" }, 
        { sentence: "_____ the exam be difficult?", answer: "Will" },
        { sentence: "_____ you please open the window?", answer: "Will" }, 
        { sentence: "_____ the plane take off in an hour?", answer: "Will" } 
    ],

    "future-continuous": [
        { sentence: "This time tomorrow, we _____ (relax) on the beach.", answer: "will be relaxing" },
        { sentence: "Don't call me at 6pm, I _____ (eat) dinner.", answer: "will be eating" },
        { sentence: "What _____ (do) this time next year?", answer: "will you be doing" },
        { sentence: "They _____ (not / sleep) at midnight.", answer: "won't be sleeping" },
        { sentence: "He _____ (work) late tonight.", answer: "will be working" }, 
        { sentence: "We _____ (drive) to the coast all day tomorrow. ", answer: "will be driving" },
        { sentence: "I _____  (wait) for you when you arrive.", answer: "will be waiting" },
        { sentence: "This time next week, I _____ (lie) on the beach.", answer: "will be lying" }, 
        { sentence: "Will she _____ (study) when we get there?", answer: "be studying" }, 
        { sentence: "Be careful, you _____ (break) that vase.", answer: "will be breaking" }, 
        { sentence: "_____ we be relaxing on the beach this time tomorrow?", answer: "Will" },
        { sentence: "_____ I be eating dinner at 6pm? Don't call me then.", answer: "Will" },
        { sentence: "_____ you be doing this time next year?", answer: "What will" },
        { sentence: "_____ they not be sleeping at midnight?", answer: "Won't" },
        { sentence: "_____ he be working late tonight?", answer: "Will" },
        { sentence: "_____ we be driving to the coast all day tomorrow?", answer: "Will" },
        { sentence: "_____ I be waiting for you when you arrive?", answer: "Will" },
        { sentence: "_____ I be lying on the beach this time next week?", answer: "Will" },
        { sentence: "_____ she be studying when we get there?", answer: "Will" },
        { sentence: "_____ you be breaking that vase if you're not careful?", answer: "Will" }
    ],

    "future-perfect": [
        { sentence: "She _____ (finish) her project by Friday.", answer: "will have finished" },
        { sentence: "By this time next week, they _____ (travel) around Europe.", answer: "will have traveled"},
        { sentence: "I _____ (not / complete) my assignment by tomorrow.", answer: "won't have completed" },
        { sentence: "You _____ (save) enough money for a new car by the end of the year. ", answer: "will have saved" }, 
        { sentence: "Will you _____ (eat) lunch by the time I arrive?", answer: "have eaten" },
        { sentence: "He _____ (graduate) by the time he turns 22.", answer: "will have graduated" },
        { sentence: "How long _____ (live) here by then?", answer: "will you have lived" },
        { sentence: "The meeting _____ (end) by 5pm.", answer: "will have ended" }, 
        { sentence: "I _____ (read) this book several times by then.", answer: "will have read" },
        { sentence: "Hopefully, the weather _____ (improve) by the weekend.", answer: "will have improved" },
        { sentence: "_____ she have finished her project by Friday?", answer: "Will" },
        { sentence: "_____ they have traveled around Europe by this time next week?", answer: "Will" },
        { sentence: "_____ I not have completed my assignment by tomorrow?", answer: "Won't" },
        { sentence: "_____ you have saved enough money for a new car by the end of the year?", answer: "Will" }, 
        { sentence: "_____ you have eaten lunch by the time I arrive?", answer: "Will" },
        { sentence: "_____ he have graduated by the time he turns 22?", answer: "Will" },
        { sentence: "_____ you have lived here for 5 years by then?", answer: "How long will" },
        { sentence: "_____ the meeting have ended by 5pm?", answer: "Will" }, 
        { sentence: "_____ I have read this book several times by then?", answer: "Will" },
        { sentence: "_____ the weather have improved by the weekend?", answer: "Will" } 
         
    ],
    
    "future-perfect-continuous": [
        { sentence: "By next year, I _____ (study) French for five years.", answer: "will have been studying" },
        { sentence: "How long _____ (wait) when I finally arrive?", answer: "will you have been waiting" }, 
        { sentence: "They _____ (work) on that project for months by the time it's due.", answer: "will have been working" },
        { sentence: "We _____ (live) in this house for 10 years by next summer.", answer: "will have been living" },
        { sentence: "She _____ (practice) her speech for hours before the presentation.", answer: "will have been practicing" }, 
        { sentence: "I _____ (do) homework all evening by the time you get home.", answer: "will have been doing" },
        { sentence: "Will they _____ (drive) all night?", answer: "have been driving" },
        { sentence: "He _____ (not / sleep) well lately.", answer: "will not have been sleeping" },  
        { sentence: "The children _____ (play) in the garden all afternoon.", answer: "will have been playing" }, 
        { sentence: "It _____ (rain) for days by the end of the week.", answer: "will have been raining" },
        { sentence: "_____ I have been studying French for five years by next year?", answer: "Will" },
        { sentence: "_____ you have been waiting when I finally arrive?", answer: "How long will" }, 
        { sentence: "_____ they have been working on that project for months by the time it's due?", answer: "Will" },
        { sentence: "_____ we have been living in this house for 10 years by next summer?", answer: "Will" },
        { sentence: "_____ she have been practicing her speech for hours before the presentation?", answer: "Will" }, 
        { sentence: "_____ I have been doing homework all evening by the time you get home?", answer: "Will" },
        { sentence: "_____ they have been driving all night by sunrise?", answer: "Will" },
        { sentence: "_____ he not have been sleeping well lately?", answer: "Won't" }, 
        { sentence: "_____ the children have been playing in the garden all afternoon?", answer: "Will" }, 
        { sentence: "_____ it have been raining for days by the end of the week?", answer: "Will" } 
      ],

    "mixed-tenses": [ 
        { sentence: "She ______ (work) at that company for five years before she quit.", answer: "worked" },
        { sentence: "By the time I arrive, the party _______ (already / start).", answer: "will have already started" },
        { sentence: "I _____ (never / try) bungee jumping.", answer: "have never tried" },
        { sentence: "They _____ (live) in London when they were younger.", answer: "lived" },
        { sentence: "If you call me at seven, I _____ (have) dinner.", answer: "will be having" }, 
        { sentence: "I _____ (read) this book by the end of the day.", answer: "will have read" },
        { sentence: "Hurry up! The train _____ (leave) in ten minutes.", answer: "is leaving" },
        { sentence: "Before he started university, he _____ (travel) around the world.", answer: "had traveled" },  
        { sentence: "She _____ (not / arrive) yet.", answer: "hasn't arrived" },
        { sentence: "When I got home, my dog _____ (destroy) my shoes.", answer: "had destroyed" },
        { sentence: "_____ she worked at that company for five years before she quit?", answer: "Had" },
        { sentence: "_____ the party already started by the time I arrive?", answer: "Will have" },
        { sentence: "_____ I never tried bungee jumping before this weekend?", answer: "Have" },
        { sentence: "_____ they lived in London when they were younger?", answer: "Did" },
        { sentence: "_____ I be having dinner if you call me at seven?", answer: "Will" }, 
        { sentence: "_____ I read this book by the end of the day?", answer: "Will have" },
        { sentence: "_____ the train leaving before I get to the station?", answer: "Is" },
        { sentence: "_____ he traveled around the world before he started university?", answer: "Had" }, 
        { sentence: "_____ she not arrived at the party yet?", answer: "Hasn't" },
        { sentence: "_____ my dog destroyed my shoes when I got home?", answer: "Had" },
        { sentence: "By the time I got there, the movie _____ already started.", answer: "had" }, 
        { sentence: "_____ you ever been to a concert before?", answer: "Have" },
        { sentence: "If you don't hurry, the bus _____ leave by the time we get there. ", answer: "will have" },
        { sentence: "How long _____ you lived in this city?", answer: "have" },
        { sentence: "I _____ not finish my homework yet.", answer: "haven't" },
        { sentence: "_____ it snow tomorrow?", answer: "Will" },
        { sentence: "They _____ to New York several times before.", answer: "had been" },
        { sentence: "She _____ not call me by the time I get home.", answer: "might" },
        { sentence: "The game _____ by 9pm tonight.", answer: "will have finished" },
        { sentence: "Where _____ you born?", answer: "were" },
        { sentence: "I _____ never eaten sushi before yesterday.", answer: "had" },
        { sentence: "_____ you be studying when I get home?", answer: "Will" },
        { sentence: "By next year, she _____ here for ten years.", answer: "will have been living" },
        { sentence: "I'm exhausted because I _____ all night.", answer: "have been working" },
        { sentence: "If you _____ me, I would have helped you.", answer: "had asked" }, // Third conditional
        { sentence: "He _____ in trouble if he hadn't worn his helmet.", answer: "would have been" }, // Third conditional
        { sentence: "I wish I _____ harder in school.", answer: "had studied" }, // Mixed conditional
        { sentence: "If it wasn't raining, we _____ to the beach right now.", answer: "would be going" }, // Mixed conditional
        { sentence: "I feel better now because I _____ some medicine.", answer: "have taken" },
        { sentence: "If I _____ the lottery, I would travel the world.", answer: "won" }, // Second conditional 
    ], 
    "zero-conditional": [
        { sentence: "If you _____ (heat) water to 100 degrees Celsius, it _____ (boil).", answer: "heat", answer2: "boils" },
        { sentence: "If you _____ (mix) red and blue, you _____ (get) purple.", answer: "mix", answer2: "get" },
        { sentence: "If plants _____ (not / get) sunlight, they _____ (die).", answer: "don't get", answer2: "die" },
        { sentence: "If you _____ (drop) a glass, it _____ (break).", answer: "drop", answer2: "breaks" },
        { sentence: "If you _____ (touch) fire, you _____ (get) burned.", answer: "touch", answer2: "get" },
        { sentence: "If it _____ (snow), the roads _____ (get) slippery.", answer: "snows", answer2: "get" },  
        { sentence: "If you _____ (not / water) plants, they _____ (dry) out.", answer: "don't water", answer2: "dry" },
        { sentence: "If metal _____ (get) too hot, it _____ (melt).", answer: "gets", answer2: "melts" },
        { sentence: "If you _____ (freeze) water, it _____ (become) ice.", answer: "freeze", answer2: "becomes" },
        { sentence: "If a baby _____ (cry), it usually _____ (need) something.", answer: "cries", answer2: "needs" }, 
      ],
  "first-conditional": [
    { sentence: "If I _____ (study) hard, I _____ (pass) the exam.", answer: "study", answer2: "will pass" },
    { sentence: "If you _____ (not / hurry), we _____ (miss) the bus.", answer: "don't hurry", answer2: "will miss" },
    { sentence: "She _____ (be) happy if you _____ (call) her.", answer: "will be", answer2: "call" },
    { sentence: "If the weather _____ (be) nice, we _____ (go) to the beach.", answer: "is", answer2: "will go" },
    { sentence: "If it _____ (rain) tomorrow, I _____ (not / go) running.", answer: "rains", answer2: "won't go" },
    { sentence: "They _____ (get) there on time if they _____ (leave) now.", answer: "will get", answer2: "leave" },
    { sentence: "If you _____ (heat) ice, it _____ (melt).", answer: "heat", answer2: "melts" },
    { sentence: "I _____ (help) you with that if I _____ (have) time.", answer: "will help", answer2: "have" },
    { sentence: "If I _____ (win) the lottery, I _____ (travel) the world.", answer: "win", answer2: "will travel" },
    { sentence: "If she _____ (be) late, we _____ (start) the movie without her.", answer: "is", answer2: "will start" }
  ],    
  "second-conditional": [
    { sentence: "If I _____ (have) a million dollars, I _____ (buy) a big house.", answer: "had", answer2: "would buy" },
    { sentence: "If she _____ (live) closer, she _____ (visit) us more often.", answer: "lived", answer2: "would visit" },
    { sentence: "I _____ (help) you with that if I _____ (have) more time.", answer: "would help", answer2: "had" },
    { sentence: "If I _____ (be) you, I _____ (take) the job offer. ", answer: "were", answer2: "would take" },
    { sentence: "If they _____ (speak) Spanish, they _____ (get) the job.", answer: "spoke", answer2: "would get" },
    { sentence: "If I _____ (not / be) so tired, I _____ (go) out with you.", answer: "weren't", answer2: "would go" },
    { sentence: "We _____ (travel) the world if we _____ (win) the lottery.", answer: "would travel", answer2: "won" },
    { sentence: "If you _____ (ask) me nicely, I _____ (lend) you some money.", answer: "asked", answer2: "would lend" },
    { sentence: "If it _____ (not / rain) tomorrow, I _____ (go) for a hike.", answer: "didn't rain", answer2: "would go" },
    { sentence: "If he _____ (be) taller, he _____ (play) basketball professionally.", answer: "were", answer2: "would play" }
  ],
  "third-conditional": [
    { sentence: "If I _____ (know) about the problem, I _____ (help) you.", answer: "had known", answer2: "would have helped" },
    { sentence: "If you _____ (study) harder, you _____ (pass) the exam.", answer: "had studied", answer2: "would have passed" },
    { sentence: "If we _____ (take) the train, we _____ (arrive) earlier. ", answer: "had taken", answer2: "would have arrived" },
    { sentence: "She _____ (not / get) sunburned if she _____ (use) sunscreen.", answer: "wouldn't have gotten", answer2: "had used" },
    { sentence: "If they _____ (leave) on time, they _____ (not / miss) the flight.", answer: "had left", answer2: "wouldn't have missed" },
    { sentence: "If I _____ (have) more money, I _____ (buy) a new car.", answer: "had had", answer2: "would have bought" },
    { sentence: "We _____ (see) the accident if we _____ (be) driving faster.", answer: "wouldn't have seen", answer2: "hadn't been" },
    { sentence: "If you _____ (ask) for help, I _____ (explain) it to you.", answer: "had asked", answer2: "would have explained" },
    { sentence: "If she _____ (win) the competition, she _____ (be) famous.", answer: "had won", answer2: "would have been" },
    { sentence: "If it _____ (snow) yesterday, we _____ (go) skiing.", answer: "had snowed", answer2: "would have gone" } 
  ],
  "mixed-conditionals": [
    { sentence: "If you _____ (study) harder, you _____ (get) better grades now.", answer: "studied", answer2: "would get" },
    { sentence: "If I _____ (know) about the party, I _____ (go).", answer: "had known", answer2: "would have gone" },
    { sentence: "I _____ (not / be) tired now if I _____ (go) to bed earlier last night. ", answer: "wouldn't be", answer2: "had gone" },
    { sentence: "If she _____ (not / break) her leg, she _____ (play) in the tournament.", answer: "hadn't broken", answer2: "would have played" },
    { sentence: "We _____ (be) on time if we _____ (leave) earlier.", answer: "would have been", answer2: "had left" },
    { sentence: "If I _____ (win) the lottery yesterday, I _____ (be) rich today.", answer: "had won", answer2: "would be" },
    { sentence: "They _____ (not / get) lost if they _____ (take) a map.", answer: "wouldn't have gotten", answer2: "had taken" },
    { sentence: "If you _____ (not / eat) all the cookies, there _____ (be) some left for me.", answer: "hadn't eaten", answer2: "would be" },
    { sentence: "I _____ (feel) better now if I _____ (take) the medicine earlier.", answer: "would feel", answer2: "had taken" },
    { sentence: "If it _____ (not / rain) yesterday, we _____ (go) to the beach.", answer: "hadn't rained", answer2: "would have gone" }
  ],  
  "passive-voice": [
    { sentence: "The Mona Lisa _____ (paint) by Leonardo da Vinci.", answer: "was painted" },
    { sentence: "The food _____ (prepare) by the chef right now.", answer: "is being prepared" },
    { sentence: "The windows _____ (clean) every week.", answer: "are cleaned" },
    { sentence: "The car _____ (repair) by the mechanic yesterday.", answer: "was repaired" },
    { sentence: "The rules _____ (explain) to us at the beginning of class.", answer: "were explained" },
    { sentence: "The invitations _____ (send) out next week.", answer: "will be sent" },
    { sentence: "The house _____ (build) in the 1920s.", answer: "was built" },
    { sentence: "The book _____ (read) by millions of people.", answer: "has been read" },
    { sentence: "The problem _____ (discuss) by the committee tomorrow.", answer: "will be discussed" },
    { sentence: "The package should _____ (deliver) by now.", answer: "have been delivered" } 
  ],
"active-voice": [
  { sentence: "The cake was baked by my grandmother. Rewrite in the active voice: _____", answer: "My grandmother baked the cake." },
  { sentence: "The letter was written by Sarah. Rewrite in the active voice: _____", answer: "Sarah wrote the letter." },
  { sentence: "The plants are being watered by the gardener. Rewrite in the active voice: _____", answer: "The gardener is watering the plants." },
  { sentence: "The problem will be solved by the engineers. Rewrite in the active voice: _____", answer: "The engineers will solve the problem." },
  { sentence: "The song was composed by a famous musician. Rewrite in the active voice: _____", answer: "A famous musician composed the song." },
  { sentence: "The door has been opened by someone. Rewrite in the active voice: _____", answer: "Someone has opened the door." },
  { sentence: "The race was won by the fastest runner. Rewrite in the active voice: _____", answer: "The fastest runner won the race." },
  { sentence: "The dishes are being washed by my brother. Rewrite in the active voice: _____", answer: "My brother is washing the dishes." }, 
  { sentence: "The book has been read by many students. Rewrite in the active voice: _____", answer: "Many students have read the book." },
  { sentence: "The news will be announced by the president. Rewrite in the active voice: _____", answer: "The president will announce the news." } 
],

};

const exerciseArea = document.getElementById('exercise-area');
const checkButton = document.getElementById('check-button');
const categoryButtons = document.querySelectorAll('.category-buttons button');


//NEW
// Menu Click Handler
const menuItems = document.querySelectorAll('.main-menu li, .sub-menu li'); 
menuItems.forEach(item => {
  item.addEventListener('click', (event) => { // Capture click event
    event.stopPropagation(); // Prevent clicks from bubbling up the menu
    currentCategory = item.dataset.category; 
    displayExercise();
  });
});
//NEW


let currentCategory = 'present-simple';
let currentSentences = [];


initializeExercises();
displayExercise();

// Category button click handler
categoryButtons.forEach(button => {
    button.addEventListener('click', () => {
        currentCategory = button.dataset.category;
        categoryButtons.forEach(b => b.classList.remove('active'));
        button.classList.add('active');
        displayExercise();
    });
});

// Check Button
checkButton.addEventListener('click', () => {
    const isConditional = ['zero-conditional', 'first-conditional', 'second-conditional', 'third-conditional', 'mixed-conditionals'].includes(currentCategory);
  
    if (isConditional) { 
      checkConditionalAnswers();
    } else {
      checkAnswer();
    }
  });

// Refresh Sentences Button
const refreshButton = document.getElementById('refresh-button'); // Get existing button
refreshButton.id = 'refresh-button';
refreshButton.textContent = 'Refresh Sentences';
document.querySelector('.container').appendChild(refreshButton); 

if (refreshButton) { // Check if it exists before adding a listener 
    refreshButton.addEventListener('click', () => { 
      initializeExercises(); 
      displayExercise(); 
    });
  } 

function initializeExercises() {
    for (const category in exerciseData) {
        const shuffled = exerciseData[category].sort(() => 0.5 - Math.random());
        currentSentences[category] = shuffled.slice(0, 3); 
    }
}

function displayExercise() {
    exerciseArea.innerHTML = ''; 
    const title = document.createElement('h2'); 
    title.textContent = currentCategory.replace('-', ' '); 
    exerciseArea.appendChild(title); 
  
    // Get the sentences for the current category
    const sentences = currentSentences[currentCategory];
  
    // Check if we actually have sentences for this category 
    if (!sentences) {
      exerciseArea.textContent = "Exercises for this category coming soon!"; 
      return; // Stop execution 
    }
  
    sentences.forEach((data) => {
      // Create two input fields
      let sentenceWithInputs = data.sentence.replace('_____', '<input type="text" class="input-field" style="width: 100px">');
      sentenceWithInputs = sentenceWithInputs.replace('_____', '<input type="text" class="input-field" style="width: 100px">'); 
  
      const p = document.createElement('p');
      p.innerHTML = sentenceWithInputs;
      exerciseArea.appendChild(p);
  
      const inputFields = p.querySelectorAll('.input-field');
      inputFields.forEach(input => input.addEventListener('input', adjustInputWidth));
    });
  }

function adjustInputWidth(event) {
    const input = event.target;
    input.style.width = (input.value.length + 1) * 8 + 'px'; 
}

function checkAnswer() {
    const answers = document.querySelectorAll('.input-field');
    let allCorrect = true;

    answers.forEach((answer, index) => {
        let parent = answer.parentNode;
        while (parent.firstChild) {
            parent.removeChild(parent.firstChild);
        }

        // Re-add the original sentence with the user's answer
        parent.textContent = exerciseData[currentCategory][index].sentence.replace('_____', answer.value); 

        const correctAnswer = exerciseData[currentCategory][index].answer;
        if (answer.value.toLowerCase() === correctAnswer.toLowerCase()) {
            parent.appendChild(document.createTextNode(' ✔'));
            parent.classList.add('correct');
        } else {
            parent.appendChild(document.createTextNode(` ❌ (Correct: ${correctAnswer})`));
            parent.classList.add('incorrect');
            allCorrect = false;
        }
    });
}

function checkConditionalAnswers() {
    const inputFields = document.querySelectorAll('.input-field');
    let allCorrect = true;
  
    // Iterate in multiples of 2 since conditionals have two answers
    for (let i = 0; i < inputFields.length; i+=2) {
      const answer = inputFields[i];
      const answer2 = inputFields[i + 1];
  
      let parent = answer.parentNode;
      while (parent.firstChild) {
        parent.removeChild(parent.firstChild);
      }
  
      // Re-add the original sentence with the user's answers
      parent.textContent = exerciseData[currentCategory][i / 2].sentence.replace('_____', answer.value).replace('_____', answer2.value);
  
      const correctAnswer = exerciseData[currentCategory][i / 2].answer;
      const correctAnswer2 = exerciseData[currentCategory][i / 2].answer2;
  
      if (answer.value.toLowerCase() === correctAnswer.toLowerCase() && answer2.value.toLowerCase() === correctAnswer2.toLowerCase()) {
        // Case 1: Both correct
        parent.appendChild(document.createTextNode(' ✔'));
        parent.classList.add('correct');
      } else if (answer.value.toLowerCase() !== correctAnswer.toLowerCase() && answer2.value.toLowerCase() !== correctAnswer2.toLowerCase()) {
        // Case 2: Both incorrect
        parent.appendChild(document.createTextNode(` ❌ (Correct: ${correctAnswer} ${correctAnswer2})`));
        parent.classList.add('incorrect');
        allCorrect = false;
      } else if (answer.value.toLowerCase() === correctAnswer.toLowerCase() && answer2.value.toLowerCase() !== correctAnswer2.toLowerCase()) {
        //  Case 3: answer correct, answer2 incorrect
        parent.appendChild(document.createTextNode(` △ (First correct, second incorrect: ${correctAnswer2})`));
        parent.classList.add('partially-correct');
        allCorrect = false;
      } else {
        // Case 4: answer incorrect, answer2 correct
        parent.appendChild(document.createTextNode(` △ (First incorrect: ${correctAnswer}, second correct)`));
        parent.classList.add('partially-correct');
        allCorrect = false;
      }
    }
  }